<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미각의 기록: 퍼멘터즈 고추장 Dossier</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600;700&family=Gowun+Dodum&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Earthy Harmony -->
    <!-- Application Structure Plan: 이 SPA는 사용자가 '왜' 이 프로젝트를 시작했는지(선언문)를 먼저 이해하고, '무엇을' 탐험할지(고추장 탐험가)를 선택적으로 깊이 파고들며, '어떻게' 분석했는지(데이터 분석)를 확인한 후, '앞으로' 무엇을 할지(미래의 맛)를 제안받는 흐름으로 설계되었습니다. 사용자가 정보를 수동적으로 읽는 대신, 각 고추장 프로필과 데이터를 직접 클릭하고 비교하며 능동적으로 발견의 재미를 느끼도록 하는 것이 핵심입니다. 이는 보고서의 내용을 가장 효과적으로 전달하고, '먹어서 지켜내자'는 메시지에 대한 참여를 유도하는 최적의 사용자 경험을 제공합니다. -->
    <!-- Visualization & Content Choices: 
        - 고추장별 프로필: Goal(비교/탐구) -> Viz/Method(탭 네비게이션 + 동적 텍스트 업데이트 + 레이더 차트) -> Interaction(탭 클릭 시 해당 고추장의 모든 정보와 차트가 즉시 갱신됨). Justification(레이더 차트는 한 대상의 다차원적 속성(5가지 맛)을 한눈에 비교하기에 가장 직관적임). Library(Chart.js).
        - 맛 데이터 비교: Goal(분석/비교) -> Viz/Method(인터랙티브 바 차트) -> Interaction(드롭다운으로 맛 항목 선택 시 차트 데이터 동적 변경, 마우스오버 시 툴팁으로 정확한 수치 제공). Justification(정적인 표보다 사용자의 궁금증에 따라 데이터를 필터링해 볼 수 있어 훨씬 능동적인 분석이 가능함). Library(Chart.js).
        - 맛에 대한 공감도: Goal(의견 일치/불일치 이해) -> Viz/Method(수평 바 차트) -> Interaction(마우스오버 툴팁). Justification(추상적인 '표준편차' 개념을 '공감도'라는 쉬운 언어와 시각적 길이로 변환하여 데이터의 의미를 즉각적으로 전달함). Library(Chart.js).
        - 모든 시각화는 Canvas 기반이며, 상호작용은 Vanilla JS로 구현되었습니다. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            background-color: #FDF8F2;
            color: #433A3F;
            font-family: 'Gowun Dodum', sans-serif;
        }
        h1, h2, h3, .font-serif {
            font-family: 'Noto Serif KR', serif;
        }
        .nav-button {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-button.active {
            color: #A94446;
            border-bottom-color: #A94446;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
            max-height: 40vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="text-center py-12 md:py-20 bg-opacity-50">
        <div class="container mx-auto px-6">
            <h1 class="text-4xl md:text-6xl font-bold text-[#A94446] leading-tight">미각의 기록</h1>
            <p class="text-lg md:text-2xl mt-4 font-serif">퍼멘터즈 고추장 Dossier</p>
            <div class="max-w-3xl mx-auto mt-8 text-base md:text-lg leading-relaxed">
                <p>"당신이 무엇을 먹는지 말해달라. 그러면 당신이 어떤 사람인지 말해주겠다."</p>
                <p class="mt-2">이 명제에 대한 퍼멘터즈의 대답은 명료합니다.</p>
                <p class="font-bold text-xl md:text-2xl mt-4 text-[#A94446]">"You are what you FERMENT!"</p>
                <p class="mt-2">사라져가는 가치 있는 음식을 단순히 박제하는 것이 아니라, 우리의 식사를 통해 그 생명력을 이어가겠다는 능동적인 선언. 이 Dossier는 그 선언의 첫 번째 기록입니다.</p>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8">
        
        <section id="explorer" class="mb-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold font-serif">고추장 탐험가</h2>
                <p class="mt-4 max-w-2xl mx-auto text-gray-600">이곳에서는 네 가지 고추장의 개성을 심도 있게 탐험합니다. 상단의 이름을 클릭하여 각 고추장의 이야기, 생산 철학, 그리고 맛의 특징을 시각적으로 확인해 보세요. 레이더 차트는 다섯 가지 맛의 균형을, 아래의 글은 참가자들이 느낀 생생한 감각을 전달합니다.</p>
            </div>

            <div id="gochujang-nav" class="flex flex-wrap justify-center border-b border-gray-300 mb-8">
                <button data-id="A" class="nav-button active text-sm md:text-lg font-bold py-3 px-4 md:px-6">방주품 보리고추장</button>
                <button data-id="B" class="nav-button text-sm md:text-lg font-bold py-3 px-4 md:px-6">구본일 찹쌀인절미고추장</button>
                <button data-id="C" class="nav-button text-sm md:text-lg font-bold py-3 px-4 md:px-6">다산 전복볶음고추장</button>
                <button data-id="D" class="nav-button text-sm md:text-lg font-bold py-3 px-4 md:px-6">해찬들 태양초고추장</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center">
                <div id="gochujang-dossier" class="bg-white/50 p-6 md:p-8 rounded-lg shadow-sm">
                </div>
                <div>
                    <div class="chart-container max-w-lg mx-auto">
                        <canvas id="flavorRadarChart"></canvas>
                    </div>
                    <div id="gochujang-pairing" class="mt-6 text-center">
                    </div>
                </div>
            </div>
        </section>
        
        <section id="data-dive" class="mb-20">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold font-serif">데이터 분석</h2>
                <p class="mt-4 max-w-2xl mx-auto text-gray-600">"맛있다"는 주관적 감각 뒤에 숨은 객관적 패턴을 발견합니다. 아래 차트들을 통해 각 고추장의 맛 특성을 비교하고, 참가자들이 어떤 맛에 깊이 공감하고 어떤 맛에 의견이 나뉘었는지 탐색해 보세요.</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div class="bg-white/50 p-6 rounded-lg shadow-sm">
                    <h3 class="text-xl font-bold text-center mb-4 font-serif">고추장별 맛 특성 비교</h3>
                     <div class="chart-container h-96">
                        <canvas id="tasteBarChart"></canvas>
                    </div>
                </div>
                <div class="bg-white/50 p-6 rounded-lg shadow-sm">
                    <h3 class="text-xl font-bold text-center mb-4 font-serif">맛에 대한 공감과 논쟁</h3>
                    <p class="text-center text-gray-500 text-sm mb-4">막대가 길수록 해당 맛에 대한 참가자들의 의견이 일치했음을 의미합니다.</p>
                    <div class="chart-container h-96">
                         <canvas id="agreementChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="future-flavor" class="text-center py-16 bg-white/50 rounded-lg shadow-sm">
            <h2 class="text-3xl md:text-4xl font-bold font-serif">미래의 맛: 고추장 버터</h2>
            <p class="mt-4 max-w-2xl mx-auto text-gray-600 mb-8">분석은 새로운 창조로 이어져야 합니다. 고추장의 맛을 현대인의 식탁으로 가져오는 간단하고도 혁신적인 방법을 제안합니다.</p>
            <div class="max-w-md mx-auto bg-[#FDF8F2] p-8 rounded-lg border border-gray-200">
                <h3 class="text-2xl font-bold font-serif text-[#A94446]">고추장 버터 레시피</h3>
                <p class="mt-4">실온에 두어 부드러워진 무염버터 100g과 고추장 1큰술을 잘 섞어주세요. 기호에 따라 다진 마늘이나 꿀을 첨가해도 좋습니다.</p>
                <p class="mt-6 font-semibold">이 작은 시도는 고추장이 한식의 경계를 넘어 빵, 크래커, 스테이크와 만나는 새로운 길을 제시합니다.</p>
            </div>
        </section>
    </main>

    <footer class="text-center py-12 mt-12 border-t border-gray-300">
        <h3 class="text-2xl font-bold font-serif">먹어서 지켜냅시다</h3>
        <p class="mt-4 max-w-2xl mx-auto text-gray-600">퍼멘터즈의 여정은 이제 시작입니다. 발효를 통해 자연과, 사람과, 그리고 우리 자신의 감각과 다시 연결되는 이 소중한 경험에 동참해주세요.</p>
        <p class="mt-8 text-sm text-gray-500">&copy; 2025 Fermenters. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const gochujangData = {
                'A': {
                    title: '방주품 보리고추장',
                    archetype: 'The Stoic Traditionalist (우직한 전통주의자)',
                    profile: "경북 울진의 방주명가가 빚은 2023 참발효어워즈 대상 수상작입니다. 모든 재료를 직접 재배하며, 특히 전통 방식 그대로 콩 100% 메주를 사용해 된장과 간장의 원형에 가까운 깊고 구수한 맛을 냅니다. 찹쌀 대신 보리를 사용해 건강까지 생각한, 가장 균형 잡힌 기본형 고추장입니다.",
                    tastingNotes: '<strong>맛의 언어:</strong> "구수한 된장향이 먼저 와서 간장처럼 짭조름하게 마무리된다."<br><strong>공간의 기억:</strong> "시골의 부엌, 오래된 방앗간"',
                    perfectPlate: '<strong>추천 요리:</strong> 고추장찌개, 멸치볶음, 마른 오징어무침. 끓일수록 깊어지는 맛이 일품입니다.',
                    flavorScores: [2.92, 2.64, 2.86, 3.25, 2.75], // 감칠맛, 단맛, 매운맛, 짠맛, 여운
                    agreementScores: [0.91, 0.89, 0.89, 0.94, 0.88] 
                },
                'B': {
                    title: '구본일 찹쌀인절미고추장',
                    archetype: 'The Nostalgic Heart (그리운 마음)',
                    profile: "2022 참발효어워즈 대상에 빛나는 구본일 명인의 작품. 찹쌀 인절미를 엿기름에 삭히는 고된 과정을 거치고, 짠맛을 소금 대신 '간장'으로 맞춰 깊은 감칠맛을 더했습니다. 거무튀튀한 색 속에 다층적인 맛의 복합성을 품고 있습니다.",
                    tastingNotes: '<strong>맛의 언어:</strong> "단맛과 감칠맛이 나란히 흐르고, 윤기 있는 텍스처에 깊은 된장 뉘앙스가 깔려 있다."<br><strong>기억의 순간:</strong> "할머니가 밥 비벼 주던 가을 오후"',
                    perfectPlate: '<strong>추천 요리:</strong> 제육볶음, 갓 지은 흰쌀밥. 특별한 기교 없이도 포근하고 따뜻하게 입안을 채워주는 그리운 집밥의 맛입니다.',
                    flavorScores: [3.64, 3.25, 3.75, 3.56, 3.28],
                    agreementScores: [0.72, 0.94, 0.78, 1.11, 0.83] 
                },
                'C': {
                    title: '다산 전복볶음고추장',
                    archetype: 'The Bold Innovator (대담한 혁신가)',
                    profile: "강진 다산명가의 2025 참발효어워즈 대상 수상작. 다산 정약용 선생의 제자였던 가문의 역사와 지역 특산물인 전복이 만났습니다. 특히 전복 내장을 건조 분말화하여 고추장에 섞는 혁신적인 방식으로 압도적인 감칠맛을 구현했습니다.",
                    tastingNotes: '<strong>맛의 언어:</strong> "조청의 단맛에 라면스프 같은 중독성."<br><strong>감각의 경험:</strong> "씹히는 건더기에서 오는 즐거운 놀라움"',
                    perfectPlate: '<strong>추천 요리:</strong> 떡볶이, 비빔국수, 육회비빔밥. 고추장 자체가 요리의 맛을 좌우하는 메뉴에 최적입니다.',
                    flavorScores: [3.89, 4.11, 3.44, 2.75, 3.31],
                    agreementScores: [0.74, 0.81, 0.78, 0.81, 0.67] 
                },
                'D': {
                    title: '해찬들 태양초 우리쌀 고추장',
                    archetype: 'The Ubiquitous Standard (모두의 기준)',
                    profile: "우리의 식탁에서 가장 익숙한, 산업 시스템이 만든 '표준의 맛'입니다. 장인의 손맛 대신 균일한 품질과 대량생산을 목표로 설계되었습니다. 이 기준점이 있기에 다른 장인 고추장들의 독창성이 더욱 빛을 발합니다.",
                    tastingNotes: '<strong>맛의 언어:</strong> "깔끔하고 강렬한 한 방."<br><strong>공간의 기억:</strong> "시장 떡볶이, 겨울밤 포장마차 감성"',
                    perfectPlate: '<strong>추천 요리:</strong> 떡꼬치, 매운 어묵, 초무침. 빠르고 강렬한 맛이 필요할 때 가장 먼저 떠오르는 맛입니다.',
                    flavorScores: [3.00, 2.97, 3.81, 3.08, 3.11],
                    agreementScores: [0.91, 0.92, 0.90, 0.91, 0.81]
                }
            };

            const flavorLabels = ['감칠맛', '단맛', '매운맛', '짠맛', '여운'];
            
            const dossierEl = document.getElementById('gochujang-dossier');
            const pairingEl = document.getElementById('gochujang-pairing');
            const navButtons = document.querySelectorAll('.nav-button');

            function updateContent(id) {
                const data = gochujangData[id];
                dossierEl.innerHTML = `
                    <h3 class="text-2xl md:text-3xl font-bold font-serif">${data.title}</h3>
                    <p class="text-md text-[#A94446] font-semibold mt-1 mb-4">${data.archetype}</p>
                    <p class="text-base leading-relaxed">${data.profile}</p>
                    <div class="mt-6 border-t border-gray-200 pt-4">
                        <p class="text-base leading-relaxed">${data.tastingNotes}</p>
                    </div>
                `;
                pairingEl.innerHTML = `
                    <p class="text-base font-semibold">${data.perfectPlate}</p>
                `;

                navButtons.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.id === id);
                });

                updateRadarChart(id);
            }
            
            const radarCtx = document.getElementById('flavorRadarChart').getContext('2d');
            let radarChart = new Chart(radarCtx, {
                type: 'radar',
                data: {
                    labels: flavorLabels,
                    datasets: [{
                        label: 'Flavor Profile',
                        data: [],
                        backgroundColor: 'rgba(169, 68, 70, 0.2)',
                        borderColor: 'rgba(169, 68, 70, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(169, 68, 70, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(169, 68, 70, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(67, 58, 63, 0.2)' },
                            grid: { color: 'rgba(67, 58, 63, 0.2)' },
                            pointLabels: { 
                                font: { size: 14, family: "'Gowun Dodum', sans-serif" },
                                color: '#433A3F'
                            },
                            ticks: {
                                backdropColor: '#FDF8F2',
                                color: '#6A7B76',
                                stepSize: 1,
                                font: {
                                    family: "'Gowun Dodum', sans-serif"
                                }
                            },
                            min: 0,
                            max: 5
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            function updateRadarChart(id) {
                radarChart.data.datasets[0].data = gochujangData[id].flavorScores;
                radarChart.data.datasets[0].label = gochujangData[id].title;
                radarChart.update();
            }
            
            document.getElementById('gochujang-nav').addEventListener('click', (e) => {
                if (e.target.matches('.nav-button')) {
                    updateContent(e.target.dataset.id);
                }
            });

            updateContent('A');

            const barCtx = document.getElementById('tasteBarChart').getContext('2d');
            const barChart = new Chart(barCtx, {
                type: 'bar',
                data: {
                    labels: Object.values(gochujangData).map(g => g.title.split(' ')[0]),
                    datasets: flavorLabels.map((label, i) => ({
                        label: label,
                        data: Object.values(gochujangData).map(g => g.flavorScores[i]),
                        backgroundColor: `hsl(${i * 60}, 60%, 70%)`,
                        borderColor: `hsl(${i * 60}, 60%, 50%)`,
                        borderWidth: 1
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 5,
                            grid: { color: 'rgba(67, 58, 63, 0.1)' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                title: function(context) {
                                    return context[0].dataset.label;
                                },
                                label: function(context) {
                                    return `${context.label}: ${context.raw.toFixed(2)}`;
                                }
                            }
                        }
                    }
                }
            });

            const agreementCtx = document.getElementById('agreementChart').getContext('2d');
            const agreementChart = new Chart(agreementCtx, {
                type: 'bar',
                data: {
                    labels: flavorLabels,
                    datasets: Object.values(gochujangData).map((g, i) => ({
                        label: g.title.split(' ')[0],
                        data: g.agreementScores.map(score => 1 / score), // Lower deviation = higher bar
                        backgroundColor: `hsl(${i * 90 + 30}, 60%, 70%)`,
                        borderColor: `hsl(${i * 90 + 30}, 60%, 50%)`,
                        borderWidth: 1,
                    }))
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            ticks: { display: false },
                             grid: { display: false }
                        },
                         y: {
                            grid: { color: 'rgba(67, 58, 63, 0.1)' }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const originalStdDev = 1 / context.raw;
                                    return `${context.dataset.label} (표준편차: ${originalStdDev.toFixed(2)})`;
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
